<main>
  <div class="dialog-title">
    <i class="material-icons">note_add</i> 添加课件
    <span class="dialog-close" (click)="close.click()"><i class="material-icons">close</i></span>
  </div>
  <div class="app-dialog-content">
    <div class="form-item">
      <mat-form-field class="full-width-input">
        <span class="input-prefix" matPrefix>课件名:</span>
        <input matInput [(ngModel)]="courseModel.name">
      </mat-form-field>
    </div>
    <div class="form-item sc">
      <mat-form-field class="full-width-input">
        <span class="input-prefix" matPrefix>获得:</span>
        <input matInput [(ngModel)]="courseModel.getCourse">
        <span matSuffix class="input-suffix">学分</span>
      </mat-form-field>
    </div>
    <div class="form-item">
      <mat-form-field class="full-width-input">
        <mat-select placeholder="请选择学院" [(ngModel)]="courseModel.batchId">
          <mat-option *ngFor="let item of batchs" [value]="item.id">
            <span>{{item.name}}</span>
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <div class="form-item sc">
      <button mat-raised-button class="sm-btn full-btn" (click)="fileInput.click()"><i class="material-icons">cloud_upload</i> 上传视频</button>
    </div>
    <div class="border-left base-text" *ngIf="uploadPading">
       <p style="margin-bottom: 10px;">视频上传中...请耐心等待！</p>
      <mat-progress-bar mode="indeterminate" value="50" bufferValue="75">加载中</mat-progress-bar>
    </div>
    
    <div class="border-left base-text" *ngIf="movieUrl">
        视频预览
    </div><br>
    <video class="video" *ngIf="movieUrl" [src]="movieUrl" controls="controls"></video>
    <input type="file" style="display: none" #fileInput (change)="uploadFile($event.target.files[0])">
  </div>
  <div class="dialog-bottom">
  <button mat-raised-button color="primary" (click)="insertCourse(close)" class="sm-btn">添加</button>
  <button mat-dialog-close #close style="display: none"></button>
</div>
</main>
